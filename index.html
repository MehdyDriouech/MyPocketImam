<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Pocket Imam - Sélection de la prière</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <h1 id="title">Sélectionnez une prière</h1>
    <select id="language-switcher">
      <option value="fr">Fr</option>
      <option value="ar">العربية</option>
      <option value="en">En</option>
      <option value="es">Es</option>
    </select>
  </header>

  <main>
    <section class="prayer-list">
      <button class="prayer-btn" data-prayer="fajr">Fajr</button>
      <button class="prayer-btn" data-prayer="dhuhr">Dhuhr</button>
      <button class="prayer-btn" data-prayer="asr">Asr</button>
      <button class="prayer-btn" data-prayer="maghrib">Maghrib</button>
      <button class="prayer-btn" data-prayer="isha">Isha</button>
    </section>

    <section id="prayer-display" style="display:none">
      <h2 id="prayer-name"></h2>
      <div id="posture-display">
        <img id="posture-icon" src="" alt="Posture actuelle">
        <p id="posture-name"></p>
      </div>
      <audio id="prayer-audio" controls></audio>
    </section>
  </main>

  <script>
    // prayer-data.js (inline prototype)
    const prayers = {
      fajr: {
        name: "Fajr",
        posture: "debout",
        icon: "assets/icons/standing.png",
        audio: "assets/voices/fajr.mp3"
      },
      dhuhr: {
        name: "Dhuhr",
        posture: "incliné",
        icon: "assets/icons/bowing.png",
        audio: "assets/voices/dhuhr.mp3"
      },
      asr: {
        name: "Asr",
        posture: "prosterné",
        icon: "assets/icons/prostrating.png",
        audio: "assets/voices/asr.mp3"
      },
      maghrib: {
        name: "Maghrib",
        posture: "assis",
        icon: "assets/icons/sitting.png",
        audio: "assets/voices/maghrib.mp3"
      },
      isha: {
        name: "Isha",
        posture: "debout",
        icon: "assets/icons/standing.png",
        audio: "assets/voices/isha.mp3"
      }
    };

    // audio-player.js + main interaction
    document.querySelectorAll('.prayer-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const key = btn.dataset.prayer;
        const data = prayers[key];
        document.getElementById('prayer-name').textContent = data.name;
        document.getElementById('posture-icon').src = data.icon;
        document.getElementById('posture-name').textContent = data.posture;
        document.getElementById('prayer-audio').src = data.audio;
        document.getElementById('prayer-display').style.display = 'block';
      });
    });

    // i18n.js (prototype multilingue)
    const translations = {
      fr: {
        selectPrayer: "Sélectionnez une prière",
        notifSettings: "Paramètres de notification",
        selectImam: "Choisissez la voix de l’imam"
      },
      en: {
        selectPrayer: "Select a prayer",
        notifSettings: "Notification settings",
        selectImam: "Choose the imam voice"
      },
      ar: {
        selectPrayer: "اختر صلاة",
        notifSettings: "إعدادات الإشعار",
        selectImam: "اختر صوت الإمام"
      },
      es: {
        selectPrayer: "Selecciona una oración",
        notifSettings: "Configuración de notificaciones",
        selectImam: "Elige la voz del imán"
      }
    };

    document.getElementById('language-switcher').addEventListener('change', e => {
      const lang = e.target.value;
      const t = translations[lang];
      document.getElementById('title').textContent = t.selectPrayer;
    });
  </script>
</body>
</html>